<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Wells Fargo Analytics Competition by tylerswalter</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/tylerswalter/wells-fargo-analytics">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/tylerswalter/wells-fargo-analytics/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/tylerswalter/wells-fargo-analytics/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Wells Fargo Analytics Competition</h1>
          <p></p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/tylerswalter">tylerswalter</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h3>
<a id="objectives" class="anchor" href="#objectives" aria-hidden="true"><span class="octicon octicon-link"></span></a>Objectives</h3>

<p>The initial objectives of the competition were to find and associate different words with different banks.  The words were then used to determine what main issues or topics the customers were posting about.  In order to do that, the data would have to be separated by positive and negative comments and then the data could be sorted to show the main topics of posts.  After being associated with a bank and topic, the topics should be sifted through to find relevant data.</p>

<h3>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview</h3>

<p>The data consisted of Twitter and Facebook feeds that had to be cleaned up before being analyzed.  The ASCII characters, white space, and modifiers were removed and underwent natural language processing to normalize the data and clean it.  The normalizing and cleaning make sure the data are all of the same type and have no typos or mistakes.  Then using sentiment analysis, the data was separated into positive and negative posts and then further separated by bank.  The banks were then compared to each other using dendrograms and word clouds to determine common topics between banks.  After cleaning the data, the list contained 160 words that were used over 2000 times.  This was further narrowed by getting rid of useless entries, obscured data, and meta-tags and the list was narrowed down to a list of 70 words.  These words were then analyzed according to frequency used and word clouds were used to show this relationship.</p>

<h3>
<a id="focus" class="anchor" href="#focus" aria-hidden="true"><span class="octicon octicon-link"></span></a>Focus</h3>

<pre><code>There were main points that were focused on as we went through the coding;
      * Complaints of unfair policies/fees/charges 
      * Customer attrition 
      * Unresolved issues 
      * Appeal to higher authority
      * Negative perceptions of services rendered
      * Exceptional Service
</code></pre>

<h3>
<a id="code" class="anchor" href="#code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code</h3>

<ol>
<li><code>dynamicRequire &lt;- function(reqPackages){</code></li>
<li>  <code>for(pkg in reqPackages ){</code>
</li>
<li>    <code>if(!require(pkg, character.only = TRUE)){</code>
</li>
<li>      <code>install.packages(pkg, dependencies = TRUE)</code>
</li>
<li>      <code>require(pkg, quietly = TRUE, character.only = TRUE)</code>
</li>
<li>    <code>}</code>
</li>
<li>  <code>}</code>
</li>
<li><code>}</code></li>
<li><code>reqPackages &lt;- c("plyr", "tm", "quanteda", "stringr", "ggplot2",</code></li>
<li>                 <code>"lsa","NLP", "openNLP", "SnowballC", "lsa", "tau",</code>
</li>
<li>                 <code>"RColorBrewer", "wordcloud")</code>
</li>
<li><code>dynamicRequire(reqPackages)</code></li>
<li><code>myStopWords &lt;- as.character(read.csv("myStopWords.txt", header = FALSE,</code></li>
<li>                                     <code>stringsAsFactors = FALSE))</code>
</li>
<li><code>afinnTerms &lt;- read.delim(file = "AFINN-111.txt", header = FALSE,</code></li>
<li>                         <code>stringsAsFactors = FALSE)</code>
</li>
<li><code>names(afinnTerms) &lt;- c("word", "score")</code></li>
<li><code>myDict &lt;- dictionary(afinnTerms)</code></li>
<li><code>dfTable &lt;- read.table('dataset.txt',header=TRUE, sep="|", stringsAsFactors = FALSE)</code></li>
<li><code>dfTxtAndSrc &lt;- dfTable[, c("MediaType","FullText")]</code></li>
<li><code>dfTxts &lt;- dfTxtAndSrc["FullText"]</code></li>
<li><code>dfTxts$FullText[dfTxts$FullText==""] &lt;- NA</code></li>
<li><code>dfTxtAndSrc$FullText[dfTxts$FullText==""] &lt;- NA</code></li>
<li><code>dfTxts &lt;- na.omit(dfTxts)</code></li>
<li><code>dfTxtAndSrc &lt;- na.omit(dfTxts)</code></li>
<li><code>dfTxts &lt;- as.data.frame(iconv(dfTxts$FullText, "latin1", "ASCII", sub=""))</code></li>
<li><code>colnames(dfTxts) = 'FullText'</code></li>
<li><code>dfTxts$FullText &lt;- gsub("[[:punct:]]", "", dfTxts$FullText, perl = TRUE)</code></li>
<li><code>dfTxts$FullText &lt;- gsub("[[:digit:]]", "", dfTxts$FullText, perl = TRUE)</code></li>
<li><code>dfTxts$FullText &lt;- gsub("[[:cntrl:]]", "", dfTxts$FullText, perl = TRUE)</code></li>
<li><code>dfTxts$FullText &lt;- tolower(dfTxts$FullText)</code></li>
<li><code>indBankA = which(sapply(dfTxts$FullText,function(x) grepl("banka",x)))</code></li>
<li><code>indBankB = which(sapply(dfTxts$FullText,function(x) grepl("bankb",x)))</code></li>
<li><code>indBankC = which(sapply(dfTxts$FullText,function(x) grepl("bankc",x)))</code></li>
<li><code>indBankD = which(sapply(dfTxts$FullText,function(x) grepl("bankd",x)))</code></li>
<li><code>indBankA = which(sapply(dfTxts$FullText,function(x) grepl("banka",x)))</code></li>
<li><code>charBankA = dfTxts[indBankA, ]</code></li>
<li><code>corpA &lt;- corpus(charBankA)</code></li>
<li><code>summary(corpA)</code></li>
<li><code>dfBankA &lt;- as.data.frame(charBankA)</code></li>
<li><code>txtA &lt;- c("twithndlbanka choose a checking account banking managing spending banka makes easy manage banking.")</code></li>
<li><code>tokenize(txtA)</code></li>
<li><code>dfmBankA&lt;- dfm(corpA, ignoredFeatures = c(stopwords("english")))</code></li>
<li><code>plot(dfmBankA, max.words=100, random.order=FALSE, colors = brewer.pal(8, "Dark2"), scale=c(5, .5))</code></li>
<li><code>dfmBankA &lt;- dfm(corpB, ignoredFeatures = c("twithndlbanka", "name", "banka","twithndl",</code></li>
<li>                                           <code>"internet","rettwit", "bank", "bankb",</code>
</li>
<li>                                           <code>stopwords("english")))</code>
</li>
<li><code>plot(dfmBankA, max.words=200, random.order=FALSE, colors = brewer.pal(8, "Dark2"), scale=c(4, .25))</code></li>
<li><code>indBankB = which(sapply(dfTxts$FullText,function(x) grepl("bankb",x)))</code></li>
<li><code>charBankB = dfTxts[indBankB, ]</code></li>
<li><code>corpB &lt;- corpus(charBankB)</code></li>
<li><code>summary(corpB)</code></li>
<li><code>dfBankB&lt;- as.data.frame(charBankB)</code></li>
<li><code>indBankB = which(sapply(dfTxts$FullText,function(x) grepl("bankb",x)))</code></li>
<li><code>charBankB = dfTxts[indBankB, ]</code></li>
<li><code>corpB &lt;- corpus(charBankB)</code></li>
<li><code>summary(corpB)</code></li>
<li><code>dfBankB &lt;- as.data.frame(charBankB)</code></li>
<li><code>txtB &lt;- c("twithndlbankb choose a checking account banking managing spending bankb makes easy manage banking.")</code></li>
<li><code>tokenize(txtB)</code></li>
<li><code>dfmBankB &lt;- dfm(corpB, ignoredFeatures = c(stopwords("english")))</code></li>
<li><code>plot(dfmBankB, max.words=100, random.order=FALSE, colors = brewer.pal(8, "Dark2"), scale=c(5, .5))</code></li>
<li><code>dfmBankB &lt;- dfm(corpB, ignoredFeatures = c("twithndlbankb", "name", "banka","twithndl",</code></li>
<li>                                           <code>"internet","rettwit", "bank", "bankc", "bankb", "bankd",</code>
</li>
<li>                                           <code>stopwords("english")))</code>
</li>
<li><code>plot(dfmBankB, max.words=200, random.order=FALSE, colors = brewer.pal(8, "Dark2"), scale=c(4, .25))</code></li>
<li><code>indBankC = which(sapply(dfTxts$FullText,function(x) grepl("bankc",x)))</code></li>
<li><code>charBankC = dfTxts[indBankC, ]</code></li>
<li><code>corpC &lt;- corpus(charBankC)</code></li>
<li><code>summary(corpC)</code></li>
<li><code>dfBankC&lt;- as.data.frame(charBankC)</code></li>
<li><code>indBankC = which(sapply(dfTxts$FullText,function(x) grepl("bankc",x)))</code></li>
<li><code>charBankC = dfTxts[indBankC, ]</code></li>
<li><code>corpC &lt;- corpus(charBankC)</code></li>
<li><code>summary(corpC)</code></li>
<li><code>dfBankC &lt;- as.data.frame(charBankC)</code></li>
<li><code>txtC &lt;- c("twithndlbankc choose a checking account banking managing spending bankb makes easy manage banking.")</code></li>
<li><code>tokenize(txtC)</code></li>
<li><code>dfmBankC &lt;- dfm(corpC, ignoredFeatures = c(stopwords("english")))</code></li>
<li><code>plot(dfmBankC, max.words=100, random.order=FALSE, colors = brewer.pal(8, "Dark2"), scale=c(5, .5))</code></li>
<li><code>dfmBankC &lt;- dfm(corpC, ignoredFeatures = c("twithndlbankc", "name", "banka","twithndl",</code></li>
<li>                                           <code>"internet","rettwit", "bank", "bankc", "bankb", "bankd",</code>
</li>
<li>                                           <code>stopwords("english")))</code>
</li>
<li><code>plot(dfmBankC, max.words=200, random.order=FALSE, colors = brewer.pal(8, "Dark2"), scale=c(4, .25))</code></li>
<li><code>indBankD = which(sapply(dfTxts$FullText,function(x) grepl("bankd",x)))</code></li>
<li><code>charBankD = dfTxts[indBankD, ]</code></li>
<li><code>corpD &lt;- corpus(charBankD)</code></li>
<li><code>summary(corpD)</code></li>
<li><code>dfBankD&lt;- as.data.frame(charBankD)</code></li>
<li><code>indBankD = which(sapply(dfTxts$FullText,function(x) grepl("bankd",x)))</code></li>
<li><code>charBankD = dfTxts[indBankD, ]</code></li>
<li><code>corpD &lt;- corpus(charBankD)</code></li>
<li><code>summary(corpD)</code></li>
<li><code>dfBankD &lt;- as.data.frame(charBankD)</code></li>
<li><code>txtD &lt;- c("twithndlbankd choose a checking account banking managing spending bankd makes easy manage banking.")</code></li>
<li><code>tokenize(txtD)</code></li>
<li><code>dfmBankD &lt;- dfm(corpD, ignoredFeatures = c(stopwords("english")))</code></li>
<li><code>plot(dfmBankD, max.words=100, random.order=FALSE, colors = brewer.pal(8, "Dark2"), scale=c(5, .5))</code></li>
<li><code>dfmBankD &lt;- dfm(corpD, ignoredFeatures = c("twithndlbankd", "name", "banka","twithndl",</code></li>
<li>                                           <code>"internet","rettwit", "bank", "bankc", "bankb", "bankd",</code>
</li>
<li>                                           <code>stopwords("english")))</code>
</li>
<li><code>plot(dfmBankD, max.words=200, random.order=FALSE, colors = brewer.pal(8, "Dark2"), scale=c(4, .25))</code></li>
</ol>

<h3>
<a id="word-clouds" class="anchor" href="#word-clouds" aria-hidden="true"><span class="octicon octicon-link"></span></a>Word Clouds</h3>

<p>Bank A: <img src="https://cloud.githubusercontent.com/assets/16103047/11723423/622fe0f2-9f3c-11e5-844d-f6046ba25e63.png" alt="Bank A Word Cloud"></p>

<p>Bank B: <img src="https://cloud.githubusercontent.com/assets/16103047/11723411/5041c248-9f3c-11e5-999f-d10e61184a75.png" alt="Bank B Word Cloud"></p>

<p>Bank C: <img src="https://cloud.githubusercontent.com/assets/16103047/11723393/3e8b1a5e-9f3c-11e5-9e21-61b1964bc767.png" alt="Bank C Word Cloud"></p>

<p>Bank D: <img src="https://cloud.githubusercontent.com/assets/16103047/11723344/0cb542de-9f3c-11e5-9ec4-2ec62101da39.png" alt="Bank D Word Cloud"></p>

<h3>
<a id="conclusions" class="anchor" href="#conclusions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conclusions</h3>

<p>The data showed that the overall positive comments were higher in Bank A while the overall negative sentiment was highest in Bank D.  Using graphical evidence from the code, the most prevalent words were found to be associated to financial terms.  Of these, the terms were found to be either negative or positive, which shows that people usually only post when dissatisfied with the bank or had an exceptional experience.  While this does not pertain to all posts, it satisfied a large majority.</p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>Page created by Tyler Walter.  Data and coding performed by Neal Sakash, Chase Hendley, Don Cole, and Tyler Walter.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
